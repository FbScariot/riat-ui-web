@page
@using Microsoft.AspNetCore.Identity
@using RIAT.DAL.Entity.Models;
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<div id="divContainer">
    <div id="divLogin" class="login">
        <div>
            Your Name:<br />
            @UserManager.GetUserAsync(User).Result.FirstName
        </div>
        <div id="divButton">
            <input id="btnStartChat" type="button" class="submitButton" value="Start Chat" />
        </div>
    </div>

    <div id="divChat" class="chatRoom">
        <div class="title">
            Welcome to Chat Room [<span id='spanUser'></span>]
        </div>
        <div class="content">
            <div id="divChatWindow" class="chatWindow">
            </div>
            <div id="divusers" class="users">
            </div>
        </div>
        <div class="messageBar">
            <input class="textbox" type="text" id="txtMessage" />
            <input id="btnSendMsg" type="button" value="Send" class="submitButton" />
        </div>
    </div>

    <input id="hdId" type="hidden" />
    <input id="hdUserName" type="hidden" />
</div>

<div class="container">
    <div class="row">&nbsp;</div>
    <div class="row">
        <div class="col-2">online users</div>
        <div class="col-4"><input type="text" id="onlineusers" /></div>
    </div>
    @*<div class="row">
            <div class="col-2">From</div>
            <div class="col-4"><input type="text" id="userInput" /></div>
        </div>*@
    <div class="row">
        <div class="col-2">To</div>
        <div class="col-4"><input type="text" id="toUserInput" /></div>
    </div>
    <div class="row">
        <div class="col-2">Message</div>
        <div class="col-4"><input type="text" id="messageInput" /></div>

    </div>
    <div class="row">&nbsp;</div>
    <div class="row">
        <div class="col-6">
            <input type="button" id="sendButton" value="Send Message" />
        </div>
    </div>

    <div class="row">
        <div class="col-6">
            <input type="button" id="sendPrivateButton" value="Send Private Message" />
        </div>
    </div>
</div>
<div class="row">
    <div class="col-12">
        <hr />
    </div>
</div>
<div class="row">
    <div class="col-6">
        <ul id="messagesList"></ul>
    </div>
</div>
<script src="~/lib/jquery/dist/jquery-3.6.0.js"></script>
@*<script src="~/lib/jquery/dist/jquery.js"></script>*@
<script src="~/js/signalr/dist/browser/signalr.js"></script>
@*<script src="~/js/signalr/dist/browser/signalr.js"></script>*@
<script src="~/js/chat.js"></script>
